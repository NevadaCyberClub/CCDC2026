---
# defaults file for perfsonar-testpoint

#####
# This first set of variables should be adapted for your deployment.

# Additional perfSONAR packages to be installed on the perfSONAR host
# See list at http://docs.perfsonar.net/install_debian.html#optional-packages
# If you don't want any optional package to be installed, make this an empty list.
#perfsonar_optional_packages: []
perfsonar_optional_packages:
  - perfsonar-toolkit-ntp
  - perfsonar-toolkit-security
  - perfsonar-toolkit-servicewatcher
  - perfsonar-toolkit-sysctl
  - perfsonar-toolkit-systemenv-testpoint

perfsonar_ntp_servers: []

timesync_service:
  Debian: ntp
  RedHat: ntpd
  default: ntp

ntp_service: "{{ timesync_service[ansible_os_family] | default(timesync_service['default']) }}"

# Disable ssh root access
perfsonar_disable_root_ssh: True

# setting the perfsonar_archive-* variables will register testpoints with the archivers
perfsonar_archive_auth_interfaces:
 - "{{ ansible_all_ipv4_addresses }}"

perfsonar_archive_hosts:
 - "{{ groups['ps_archivenode'] }}"

perfsonar_archive_uid: perfsonar

#####
# The variables here below shouldn't need to be altered for your deployment, unless you know what you're doing.

# List of perfSONAR services to make sure are running
# We define the list as a reference to another list, so that we can merge and override in other roles
perfsonar_services: "{{ perfsonar_testpoint_services }}"
perfsonar_os_specific_services: "{{ perfsonar_testpoint_os_specific_services }}"

# The following ports are used:
# pScheduler: 443
# owamp:861, 8760-9960 (tcp and udp)
# twamp: 862, 18760-19960 (tcp and udp)
# simplestream: 5890-5900
# nuttcp: 5000, 5101
# iperf2: 5001
# iperf3: 5201
# ntp: 123 (udp)

perfsonar_testpoint_allowed_networks:
  - "{{ ansible_all_ipv4_addresses }}"
  - "10.176.253.0/24"
  - "134.197.253.0/24"
  - "10.176.244.0/24"
  - "134.197.244.0/24"

perfsonar_testpoint_ports:
  - port: 443
    proto: tcp

  - port: 861
    proto: tcp

  - port: 8760-9960
    proto: tcp

  - port: 862
    proto: tcp

  - port: 18760-19960
    proto: tcp

  - port: 18760-19960
    proto: udp

  - port: 5890-5900
    proto: tcp

  - port: 5000
    proto: tcp

  - port: 5101
    proto: tcp

  - port: 5001
    proto: tcp

  - port: 5201
    proto: tcp

  - port: 123
    proto: udp